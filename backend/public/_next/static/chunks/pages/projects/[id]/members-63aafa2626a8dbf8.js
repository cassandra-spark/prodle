(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{6640:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[id]/members",function(){return t(3209)}])},3209:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var n=t(5893),s=t(1163),c=t(4068),i=t(1001),a=t(4051),u=t.n(a),d=t(1664),o=t.n(d),l=t(8488),x=t(3033);function m(e){var r=e.id,t=e.render,s=(0,l.aF)(r).result;return(0,n.jsx)(x.Z,{result:s,render:t})}function f(e,r,t,n,s,c,i){try{var a=e[c](i),u=a.value}catch(d){return void t(d)}a.done?r(u):Promise.resolve(u).then(n,s)}function h(e){return function(){var r=this,t=arguments;return new Promise((function(n,s){var c=e.apply(r,t);function i(e){f(c,n,s,i,a,"next",e)}function a(e){f(c,n,s,i,a,"throw",e)}i(void 0)}))}}function p(e){var r=e.memberships,t=e.refetch,s=e.accept,c=e.reject;return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"flow-root mt-6",children:(0,n.jsx)("ul",{role:"list",className:"-my-5 divide-y divide-gray-200",children:r.map((function(e){return"rejected"!=e.status?(0,n.jsx)(m,{id:e.user,render:function(r){return r?(0,n.jsx)("li",{className:"py-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:r.fullName}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:[r.degree?"".concat(r.degree," "):"",r.userType]}),(0,n.jsx)("p",{className:"text-sm text-gray-500 truncate",children:r.email})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(o(),{href:"/users/".concat(r._id),children:(0,n.jsx)("a",{className:"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50",children:"Profile"})}),s&&"pending"==e.status?(0,n.jsx)("a",{onClick:h(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(e._id);case 2:return r.next=4,t();case 4:case"end":return r.stop()}}),r)}))),className:"inline-flex items-center shadow-sm px-2.5 py-0.5 cursor-pointer border border-gray-300 text-sm leading-5 font-medium rounded-full text-white bg-green-700 hover:bg-green-600",children:"Accept"}):(0,n.jsx)(n.Fragment,{}),c&&"pending"==e.status?(0,n.jsx)("a",{onClick:h(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c(e._id);case 2:return r.next=4,t();case 4:case"end":return r.stop()}}),r)}))),className:"inline-flex items-center shadow-sm px-2.5 py-0.5 cursor-pointer border border-gray-300 text-sm leading-5 font-medium rounded-full text-white bg-red-700 hover:bg-red-600",children:"Reject"}):(0,n.jsx)(n.Fragment,{})]})]})},e._id):(0,n.jsx)(n.Fragment,{})}}):(0,n.jsx)(n.Fragment,{})}))})})})}var j=t(6767),g=t(4510);function v(){var e=(0,s.useRouter)().query.id,r=(0,l.xJ)(),t=(0,g.PY)(e),a=t.result,u=t.project,d=(0,g.$t)(e),o=d.result,m=d.refetch,f=(0,g.kU)().accept,h=(0,g.AY)().reject,v=u&&u.owner==r._id?f:void 0,w=u&&u.owner==r._id?h:void 0;return(0,n.jsx)(c.Z,{current:"Projects",children:(0,n.jsx)(x.Z,{result:a,render:function(r){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{project:r,refetch:m}),(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-10",children:[(0,n.jsx)(i.Z,{current:"Members",projectId:e}),(0,n.jsx)("div",{className:"max-w-2xl mx-auto mt-12",children:(0,n.jsx)(x.Z,{result:o,render:function(e){return(0,n.jsx)(p,{memberships:e,refetch:m,accept:v,reject:w})}})})]})})]})}})})}}},function(e){e.O(0,[215,68,509,774,888,179],(function(){return r=6640,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
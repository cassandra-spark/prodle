(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{7752:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return t(126)}])},71:function(n,e,t){"use strict";t.d(e,{kC:function(){return f},rd:function(){return l}});var r=t(4051),s=t.n(r);function u(n,e,t,r,s,u,a){try{var o=n[u](a),c=o.value}catch(i){return void t(i)}o.done?e(c):Promise.resolve(c).then(r,s)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function o(n){u(a,r,s,o,c,"next",n)}function c(n){u(a,r,s,o,c,"throw",n)}o(void 0)}))}}function o(n){return n.startsWith("/")||(n="/".concat(n)),"".concat("/api").concat(n)}function c(n){return i.apply(this,arguments)}function i(){return(i=a(s().mark((function n(e){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=null,n.prev=1,n.next=4,e.json();case 4:t=n.sent,n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:return n.abrupt("return",{success:e.status>=200&&e.status<=399,status:e.status,data:t});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))).apply(this,arguments)}function l(n,e){return d.apply(this,arguments)}function d(){return d=a(s().mark((function n(e,t){var r,u,a,i=arguments;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,u=i.length>3&&void 0!==i[3]?i[3]:null,n.next=3,fetch(o(e),{method:t,headers:{"Content-Type":r?"application/json":null,Authorization:u?"Bearer ".concat(u):null},body:r?JSON.stringify(r):null});case 3:return a=n.sent,n.next=6,c(a);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function f(n){return n.charAt(0).toUpperCase()+n.slice(1)}},8488:function(n,e,t){"use strict";t.d(e,{xJ:function(){return x},AN:function(){return v},zq:function(){return p},QJ:function(){return m},QS:function(){return h},aF:function(){return w},Pb:function(){return g}});var r=t(4051),s=t.n(r),u=t(7294),a=t(9745),o=t(71);function c(n){return(0,o.rd)("users","POST",n)}function i(n){var e=n.userId;return(0,o.rd)("users/".concat(e),"GET")}function l(n){var e=n.userId;return(0,o.rd)("memberships/users/".concat(e),"GET")}function d(n,e,t,r,s,u,a){try{var o=n[u](a),c=o.value}catch(i){return void t(i)}o.done?e(c):Promise.resolve(c).then(r,s)}function f(n){return function(){var e=this,t=arguments;return new Promise((function(r,s){var u=n.apply(e,t);function a(n){d(u,r,s,a,o,"next",n)}function o(n){d(u,r,s,a,o,"throw",n)}a(void 0)}))}}function p(){var n=(0,u.useContext)(a.Z).setUser,e=(0,u.useState)(null),t=e[0],r=e[1],c=function(){var e=f(s().mark((function e(t,u){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s={username:t,password:u},(0,o.rd)("login","POST",s);case 2:(a=e.sent).success&&n(a.data),r(a);case 5:case"end":return e.stop()}var s}),e)})));return function(n,t){return e.apply(this,arguments)}}();return{signIn:c,result:t}}function m(){var n=(0,u.useContext)(a.Z).clearUser;return f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))}function x(){return(0,u.useContext)(a.Z).user}function v(){var n=(0,u.useContext)(a.Z).user;return null!=(null===n||void 0===n?void 0:n.token)}function h(){var n=p().signIn,e=(0,u.useState)(null),t=e[0],r=e[1],a=function(){var e=f(s().mark((function e(t){var u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:if(!(u=e.sent).success){e.next=6;break}return e.next=6,n(t.username,t.password);case 6:r(u);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{signUp:a,result:t}}function w(n){var e=(0,u.useState)(null),t=e[0],r=e[1],a=function(){var e=f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.t0=r,e.next=4,i({userId:n});case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=9;break;case 8:r(null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){a()}),[n]),{result:t,user:null===t||void 0===t?void 0:t.data,refetch:a}}function g(n){var e=(0,u.useState)(null),t=e[0],r=e[1],a=function(){var e=f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.t0=r,e.next=4,l({userId:n});case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=9;break;case 8:r(null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){a()}),[n]),{result:t,projects:null===t||void 0===t?void 0:t.data,refetch:a}}},8226:function(n,e,t){"use strict";t.d(e,{Z:function(){return s}});var r=t(5893);function s(n){var e,t=n.result,s=n.defaultMessage;return!t||t.success?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("p",{className:"text-red-500",children:["Error: ",(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message)||s||"Unknown error occurred"]})}},126:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return c}});var r=t(5893),s=t(7294),u=t(1163),a=t(8488),o=t(8226);function c(){var n=(0,u.useRouter)(),e=(0,a.zq)(),t=e.signIn,c=e.result,i=(0,a.AN)(),l=(0,s.useState)(""),d=l[0],f=l[1],p=(0,s.useState)(""),m=p[0],x=p[1];return i?(n.replace("/"),(0,r.jsx)(r.Fragment,{})):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-10",children:[(0,r.jsx)("img",{className:"mx-auto h-12 w-auto",src:"prodle.png",alt:"Prodle"}),(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-red-600",children:"Sign in to your account"})]}),(0,r.jsxs)("form",{className:"space-y-6",onSubmit:function(n){return n.preventDefault(),t(d,m),!1},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"username",name:"username",type:"username",autoComplete:"username",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:d,onChange:function(n){return f(n.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:m,onChange:function(n){return x(n.target.value)}})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:function(){return t(d,m)},type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]}),(0,r.jsx)(o.Z,{result:c,defaultMessage:"There was an error signing in"})]})})})})}},1163:function(n,e,t){n.exports=t(880)}},function(n){n.O(0,[774,888,179],(function(){return e=7752,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{1969:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(5153)}])},71:function(n,t,r){"use strict";r.d(t,{kC:function(){return p},rd:function(){return f}});var e=r(4051),u=r.n(e);function c(n,t,r,e,u,c,s){try{var a=n[c](s),o=a.value}catch(i){return void r(i)}a.done?t(o):Promise.resolve(o).then(e,u)}function s(n){return function(){var t=this,r=arguments;return new Promise((function(e,u){var s=n.apply(t,r);function a(n){c(s,e,u,a,o,"next",n)}function o(n){c(s,e,u,a,o,"throw",n)}a(void 0)}))}}function a(n){return n.startsWith("/")||(n="/".concat(n)),"".concat("/api").concat(n)}function o(n){return i.apply(this,arguments)}function i(){return(i=s(u().mark((function n(t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,t.json();case 4:r=n.sent,n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:return n.abrupt("return",{success:t.status>=200&&t.status<=399,status:t.status,data:r});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))).apply(this,arguments)}function f(n,t){return l.apply(this,arguments)}function l(){return l=s(u().mark((function n(t,r){var e,c,s,i=arguments;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>2&&void 0!==i[2]?i[2]:null,c=i.length>3&&void 0!==i[3]?i[3]:null,n.next=3,fetch(a(t),{method:r,headers:{"Content-Type":e?"application/json":null,Authorization:c?"Bearer ".concat(c):null},body:e?JSON.stringify(e):null});case 3:return s=n.sent,n.next=6,o(s);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)}))),l.apply(this,arguments)}function p(n){return n.charAt(0).toUpperCase()+n.slice(1)}},8488:function(n,t,r){"use strict";r.d(t,{xJ:function(){return h},AN:function(){return x},zq:function(){return v},QJ:function(){return d},QS:function(){return w},aF:function(){return k},Pb:function(){return m}});var e=r(4051),u=r.n(e),c=r(7294),s=r(9745),a=r(71);function o(n){return(0,a.rd)("users","POST",n)}function i(n){var t=n.userId;return(0,a.rd)("users/".concat(t),"GET")}function f(n){var t=n.userId;return(0,a.rd)("memberships/users/".concat(t),"GET")}function l(n,t,r,e,u,c,s){try{var a=n[c](s),o=a.value}catch(i){return void r(i)}a.done?t(o):Promise.resolve(o).then(e,u)}function p(n){return function(){var t=this,r=arguments;return new Promise((function(e,u){var c=n.apply(t,r);function s(n){l(c,e,u,s,a,"next",n)}function a(n){l(c,e,u,s,a,"throw",n)}s(void 0)}))}}function v(){var n=(0,c.useContext)(s.Z).setUser,t=(0,c.useState)(null),r=t[0],e=t[1],o=function(){var t=p(u().mark((function t(r,c){var s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u={username:r,password:c},(0,a.rd)("login","POST",u);case 2:(s=t.sent).success&&n(s.data),e(s);case 5:case"end":return t.stop()}var u}),t)})));return function(n,r){return t.apply(this,arguments)}}();return{signIn:o,result:r}}function d(){var n=(0,c.useContext)(s.Z).clearUser;return p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n();case 1:case"end":return t.stop()}}),t)})))}function h(){return(0,c.useContext)(s.Z).user}function x(){var n=(0,c.useContext)(s.Z).user;return null!=(null===n||void 0===n?void 0:n.token)}function w(){var n=v().signIn,t=(0,c.useState)(null),r=t[0],e=t[1],s=function(){var t=p(u().mark((function t(r){var c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(r);case 2:if(!(c=t.sent).success){t.next=6;break}return t.next=6,n(r.username,r.password);case 6:e(c);case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return{signUp:s,result:r}}function k(n){var t=(0,c.useState)(null),r=t[0],e=t[1],s=function(){var t=p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return t.t0=e,t.next=4,i({userId:n});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=9;break;case 8:e(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){s()}),[n]),{result:r,user:null===r||void 0===r?void 0:r.data,refetch:s}}function m(n){var t=(0,c.useState)(null),r=t[0],e=t[1],s=function(){var t=p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return t.t0=e,t.next=4,f({userId:n});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=9;break;case 8:e(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){s()}),[n]),{result:r,projects:null===r||void 0===r?void 0:r.data,refetch:s}}},5153:function(n,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var e=r(5893),u=r(7294),c=r(1163),s=r(8488);function a(){var n=(0,c.useRouter)(),t=(0,s.xJ)();return(0,u.useEffect)((function(){t?n.replace("/users/".concat(t._id)):n.replace("/signin")}),[]),(0,e.jsx)(e.Fragment,{})}},1163:function(n,t,r){n.exports=r(880)}},function(n){n.O(0,[774,888,179],(function(){return t=1969,n(n.s=t);var t}));var t=n.O();_N_E=t}]);
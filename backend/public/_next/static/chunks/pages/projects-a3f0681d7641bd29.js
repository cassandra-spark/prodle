(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{5039:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return r(7978)}])},4510:function(e,t,r){"use strict";r.d(t,{kU:function(){return _},M6:function(){return P},Qs:function(){return g},L8:function(){return N},by:function(){return k},PY:function(){return y},$t:function(){return E},Z0:function(){return b},AY:function(){return I}});var n=r(4051),s=r.n(n),c=r(7294),u=r(9745),a=r(71);function i(e){return e.query?(0,a.rd)("projects?query=".concat(encodeURIComponent(e.query)),"GET"):(0,a.rd)("projects","GET")}function o(e){var t=e.projectId;return(0,a.rd)("projects/".concat(t),"GET")}function l(e){return(0,a.rd)("projects","POST",e)}function d(e){var t=e.projectId;return(0,a.rd)("projects/".concat(t),"DELETE")}function f(e){var t=e.projectId;return(0,a.rd)("memberships/projects/".concat(t),"GET")}function m(e){var t=e.projectId,r=e.userId;return(0,a.rd)("memberships/projects/".concat(t),"POST",{userId:r})}function p(e){var t=e.membershipId;return(0,a.rd)("memberships/".concat(t),"PUT",{status:"accepted"})}function x(e){var t=e.membershipId;return(0,a.rd)("memberships/".concat(t),"PUT",{status:"rejected"})}function h(e,t,r,n,s,c,u){try{var a=e[c](u),i=a.value}catch(o){return void r(o)}a.done?t(i):Promise.resolve(i).then(n,s)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var c=e.apply(t,r);function u(e){h(c,n,s,u,a,"next",e)}function a(e){h(c,n,s,u,a,"throw",e)}u(void 0)}))}}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){j(e,t,r[t])}))}return e}function b(e){var t=(0,c.useState)(null),r=t[0],n=t[1],u=function(){var e=v(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,i(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){u(e)}),[]),{result:r,projects:null===r||void 0===r?void 0:r.data,refetch:u}}function y(e){var t=(0,c.useState)(null),r=t[0],n=t[1],u=function(){var t=v(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return t.t0=n,t.next=4,o({projectId:e});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=9;break;case 8:n(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){u()}),[e]),{result:r,project:null===r||void 0===r?void 0:r.data,refetch:u}}function g(){var e=(0,c.useState)(null),t=e[0],r=e[1],n=(0,c.useContext)(u.Z).user,a=function(){var e=v(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,l(w({},t,{owner:n._id}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{createProject:a,result:t}}function N(){var e=function(){var e=v(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({projectId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{deleteProject:e}}function k(e){var t=E(e),r=t.memberships,n=t.refetch,s=(0,c.useContext)(u.Z).user;return{status:(0,c.useMemo)((function(){if(!r||!s)return null;var e=r.find((function(e){return e.user==s._id}));return e?e.status:"can apply"}),[r,s]),refetch:n}}function E(e){var t=(0,c.useState)(null),r=t[0],n=t[1],u=function(){var t=v(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return t.t0=n,t.next=4,f({projectId:e});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=9;break;case 8:n(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){u()}),[e]),{result:r,memberships:null===r||void 0===r?void 0:r.data,refetch:u}}function P(e){var t=(0,c.useState)(null),r=t[0],n=t[1],a=(0,c.useContext)(u.Z).user,i=function(){var t=v(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,m({projectId:e,userId:a._id});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{apply:i,result:r}}function _(){var e=function(){var e=v(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({membershipId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{accept:e}}function I(){var e=function(){var e=v(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({membershipId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{reject:e}}},7978:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(5893),s=r(7294),c=r(1664),u=r.n(c);var a=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))})),i=r(4068),o=r(1183);function l(e){var t=e.projects;return(0,n.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,n.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:t?t.map((function(e){return(0,n.jsx)("li",{children:(0,n.jsx)(u(),{href:"/projects/".concat(e._id),children:(0,n.jsx)("a",{className:"block hover:bg-gray-50",children:(0,n.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[(0,n.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{className:"truncate",children:[(0,n.jsx)("div",{className:"flex text-sm",children:(0,n.jsx)("p",{className:"font-medium text-red-600 truncate",children:e.title})}),(0,n.jsx)("div",{className:"mt-2 flex",children:(0,n.jsx)("div",{className:"flex items-center text-sm text-gray-500",children:e.skills})})]}),(0,n.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:(0,n.jsx)("div",{className:"flex overflow-hidden -space-x-1 gap-4"})})]}),(0,n.jsx)("div",{className:"ml-5 flex-shrink-0",children:(0,n.jsx)(o.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})})})},e._id)})):(0,n.jsx)("p",{children:"Loading..."})})})}var d=r(4510);function f(){var e=(0,s.useState)(""),t=e[0],r=e[1],c=(0,d.Z0)({query:t}),o=c.projects,f=c.refetch,m=function(){f({query:t})};return(0,n.jsxs)(i.Z,{current:"Projects",children:[(0,n.jsx)("header",{children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"md:flex md:items-center md:justify-between",children:[(0,n.jsx)("div",{className:"flex-1 min-w-0",children:(0,n.jsx)("h1",{className:"text-3xl font-bold leading-tight text-gray-900",children:"Search Projects"})}),(0,n.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:(0,n.jsx)(u(),{href:"/projects/new",children:(0,n.jsx)("a",{type:"button",className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"New project"})})})]})})}),(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"mt-8 flex rounded-md shadow-sm",children:[(0,n.jsxs)("div",{className:"relative flex items-stretch flex-grow focus-within:z-10",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,n.jsx)(a,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,n.jsx)("input",{type:"text",name:"query",id:"query",value:t,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){return"Enter"===e.code&&m()},className:"focus:ring-red-500 focus:border-red-500 block w-full rounded-none rounded-l-md pl-10 sm:text-sm border-gray-300",placeholder:"Search projects"})]}),(0,n.jsx)("button",{type:"button",onClick:function(){return m()},className:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500",children:(0,n.jsx)("span",{children:"Search"})})]}),(0,n.jsx)("div",{className:"text-center mt-12 mb-8",children:(0,n.jsx)("h3",{className:"text-2xl leading-6 font-medium text-gray-900",children:"Projects"})}),(0,n.jsx)(l,{projects:o})]})})]})}},1183:function(e,t,r){"use strict";var n=r(7294);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}));t.Z=s}},function(e){e.O(0,[215,68,774,888,179],(function(){return t=5039,e(e.s=t);var t}));var t=e.O();_N_E=t}]);